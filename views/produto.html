<%- contentFor('app') %>
<div class="product-page">
    <div class="card mb-3">
        <div class="card-body">
            <div class="row">
                <div class="col-6 product-img">
                    <img class="img-thumbnail"
                        src="https://blog.weddingbrasil.com.br/wp-content/uploads/2015/07/David-Beckstead-7.jpg" />
                </div>
                <div class="col-6 product-info">
                    <h4 class="product-name mb-3">Nome Produto</h4>

                    <span class="product-price">R$200</span>

                    <div class="buy-info mt-3">
                        <div class="input-field col s6">
                            <input id="quantity" type="number" min="1" class="validate">
                            <label for="quantity" style="left: 0;">Quantidade</label>
                        </div>
                        <div class="buy-button col s6">
                            <button class="btn btn-success btn-lg my-2 my-sm-0 buy">Comprar</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row mt-5">
                <div class="col-12 mb-3">
                    <div class="product-details">
                        <span>Descrição do produto aqui</span>
                    </div>
                </div>
            </div>

            <hr class="mb-4" />
            <div class="row d-flex justify-content-center">
                <div class="col-8 col-sm-8 mb-3">
                    <!--Referencia: https://www.w3schools.com/howto/howto_css_user_rating.asp-->
                    <div class="avaliacao-vendedor">
                        <span class="heading">Avaliação do Vendedor</span>
                        <div></div>
                        <span class="media-avaliacoes">-</span>
                        <a>média baseada em</a>
                        <span class="total-avaliacoes">-</span>
                        <a>reviews.</a>
                        <hr style="border:3px solid #f1f1f1">

                        <div class="row">
                            <div class="side">
                                <div class="btn-group" role="group" aria-label="Third group">
                                    <button type="button" class="btn btn-success">5</button>
                                </div>
                            </div>
                            <div class="middle">
                                <div class="bar-container">
                                    <div class="bar-5"></div>
                                </div>
                            </div>
                            <div class="side right">
                                <span class="5-star-rating">0</span>
                            </div>
                            <div class="side">
                                <div class="btn-group" role="group" aria-label="Third group">
                                    <button type="button" class="btn btn-primary">4</button>
                                </div>
                            </div>
                            <div class="middle">
                                <div class="bar-container">
                                    <div class="bar-4"></div>
                                </div>
                            </div>
                            <div class="side right">
                                <span class="4-star-rating">0</span>
                            </div>
                            <div class="side">
                                <div class="btn-group" role="group" aria-label="Third group">
                                    <button type="button" class="btn btn-info">3</button>
                                </div>
                            </div>
                            <div class="middle">
                                <div class="bar-container">
                                    <div class="bar-3"></div>
                                </div>
                            </div>
                            <div class="side right">
                                <span class="3-star-rating">0</span>
                            </div>
                            <div class="side">
                                <div class="btn-group" role="group" aria-label="Third group">
                                    <button type="button" class="btn btn-warning">2</button>
                                </div>
                            </div>
                            <div class="middle">
                                <div class="bar-container">
                                    <div class="bar-2"></div>
                                </div>
                            </div>
                            <div class="side right">
                                <span class="2-star-rating">0</span>
                            </div>
                            <div class="side">
                                <div class="btn-group" role="group" aria-label="Third group">
                                    <button type="button" class="btn btn-danger">1</button>
                                </div>
                            </div>
                            <div class="middle">
                                <div class="bar-container">
                                    <div class="bar-1"></div>
                                </div>
                            </div>
                            <div class="side right">
                                <span class="1-star-rating">0</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>

    atualizaInfos();

    //Funcao que altera a pagina do padrao do produto com suas proprias infos
    function atualizaInfos(){
        var queryString = decodeURIComponent(window.location.search);
        console.log(queryString);
        var info = [];
        queryString = queryString.replace(/\+/g, ' ');
        queryString = queryString.substring(1);
        var queries = queryString.split("&");
    
        for (var i = 0; i < queries.length; i++){
            var aux = queries[i].split("=")[1];
            info.push(aux);
        }
    
        $(".product-name").text(info[0]);
        nomeProduto = info[0];
        document.title = nomeProduto;
        $(".product-details span").text(info[1]);
        $(".product-price").text(info[2].replace(',','.'));
        $(".product-img img").attr("src",info[3]);
        donoProdutoId = info[4]
    }

    //metodo para preencher o html com o produto criado
    function fillProduto(produto) {
        var queryString = "?nome=" + produto.nomeProduto + "&descricao=" + produto.descricao + "&valor=" + produto.valorProduto + "&img=" + produto.urlImagem + "&donoId=" + produto.donoId;
        queryString = queryString.replace(/ /g, "+");
    
        $('.class').append('<div class="card mb-3"><div class="card-body"><div class="row"><div class="col-12 col-sm-8 mb-3"><div class="valor "><div class="col">Valor: <span >' + produto.valorProduto + '</span></div></div><div class="Nomeproduto "><div class="col"> <a class="nome-produto-link" href=produto.html' + queryString + '> <h4 >' + produto.nomeProduto + '</h4></a></div></div> <div class = "descricao"><div>Descrição</div> <br/><span>' + produto.descricao + '</span></div>               </div>  <div class="col-12 col-sm-4"><div class = "img"><img class="img-thumbnail"  src="' + produto.urlImagem + '" /></div></div>           </div></div></div>');
    
    }
</script>
